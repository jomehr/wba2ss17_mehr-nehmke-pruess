<!DOCTYPE html>
<html>
  <head>
    <title>Chat-App</title>

    <style>
      .txtarea {
        display: block;
        width: 350px;
        height: 150px;
      }

      .msg_input {
        width: 250px;
      }

      .send_input {
        width: 94px;
      }

      body {
        -webkit-transition: background-color 2s;
        transition: background-color 2s;
      }
    </style>

    </head>
    <body>
      <textarea class="js-txtarea"></textarea>
      <input type="text" value="" class="js-msg_input msg_input" />
      <input type="button" value="Senden" class="js-send_input send_input" />

      <!--Einbinden der Socket.io Client API-->
      <script src="/socket.io/socket.io.js"></script>
      <script>
        var send_input  = document.querySelector('.js-send_input');
        var msg_input   = document.querySelector('.js-msg_input');
        var txtarea     = document.querySelector('.js-txtarea');

        //Verbindung wird hergestellt
        var socket = io.connect('http://localhost:8082/chat');

        socket.on('message', function(msg) {
          txtarea.value=msg + '\n' + txtarea.value;
        });

        //Button Event Listener
        send_input.addEventListener('click', function(e) {
          var msg = msg_input.value;
          msg_input.value = "";

          //Nachricht wird an Server gesendet
          socket.send(msg);
        });

      </script>
    </body>
</html>
